<h3>(video page) (post to '/trump')</h3>

<!-- MAIN FORM -->
<form id="main-form" class="">
    <div class="form-group">
        <label for="input-text">Enter Text </label>
        <input type="text" class="form-control" id="input-text" name="input_data" required autocomplete="off" autofocus>
    </div>

    <button type="submit" class="btn btn-default">Submit</button> <br>
</form>

<!--Word List Button-->
<button id="wordListButton" class="btn btn-default">Word List</button>

<!--PARTIAL-->
{{#if data}}
    <!-- partials here-->
{{/if}}

<div id="resultDiv"></div>


<script>
    var pingStart;
    var pingEnd;

    var resultDiv = document.getElementById('resultDiv');
    var form = document.getElementById('main-form');
    var wordListButton = document.getElementById('wordListButton');


    form.addEventListener('submit', function(e){
        pingStart = Date.now();         //store start time.
        e.preventDefault();
        //console.log('Form submission averted.');
        //console.log(pingStart);

        var grabbedData = document.getElementById('input-text');
        //console.log(grabbedData.value);

        //insert stuff here
        $.ajax({
            url: '/trump',
            type:'POST',
            data:{datum: grabbedData.value},
            success: function(data, textStatus, jqXHR){
                pingEnd = Date.now();   //stores return time.
                console.log('data returned from server: ' + JSON.stringify(data));
                resultDiv.innerHTML = JSON.stringify(data);
                //console.log(pingEnd);
                console.log('Ping-Pong: ' + (pingEnd - pingStart).toString());

            },
            error: function(jqXHR, textStatus, errorThrown) {
                console.log('Horrible AJAX error occurred: ' + textStatus);
                resultDiv.innerHTML = 'Horrible error occurred: ' + textStatus;
            }
        });
        grabbedData.value = '';
    });

    //grab word list
    wordListButton.addEventListener('click', function(e){
        $.ajax({
            url: '/words',
            type: 'GET',
            success: function(data, status, jqXHR){
                console.log(data);
                resultDiv.innerHTML = data;
            },
            error: function(jqXHR, status, error){
                console.log('Horrible AJAX error occurred: ' + status);
                resultDiv.innerHTML = error;
            }
        });
    });

</script>